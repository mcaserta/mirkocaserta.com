{% extends "base.html" %}

{% block content %}
<div class="container">
    <article class="post">
        <header class="post-header">
            <h1 class="post-title">{{ page.title }}</h1>
            
            <div class="post-meta">
                <time datetime="{{ page.date }}">
                    {%- if lang == "it" %}
                        {{ page.date | date(format="%d %B %Y") }}
                    {%- elif lang == "es" %}
                        {{ page.date | date(format="%d de %B de %Y") }}
                    {%- else %}
                        {{ page.date | date(format="%B %d, %Y") }}
                    {%- endif -%}
                </time>
                
                {%- if page.updated %}
                <span class="post-updated"> • Updated {{ page.updated | date(format="%B %d, %Y") }}</span>
                {%- endif %}
                
                {%- if page.reading_time %}
                <span class="reading-time"> • {{ page.reading_time }} min read</span>
                {%- endif %}
                
                {%- if page.taxonomies.categories %}
                <div class="post-categories">
                    {%- for category in page.taxonomies.categories %}
                    <a href="/categories/{{ category | slugify }}/" class="category-link">
                        {{ category }}
                    </a>
                    {%- endfor %}
                </div>
                {%- endif %}
            </div>
            
            {%- if page.description %}
            <p class="post-description">{{ page.description }}</p>
            {%- endif %}
        </header>
        
        <div class="post-content">
            {{ page.content | safe }}
        </div>
        
        {%- if page.taxonomies.tags %}
        <footer class="post-footer">
            <div class="post-tags">
                <span class="tags-label">Tags:</span>
                {%- for tag in page.taxonomies.tags %}
                <a href="/tags/{{ tag | slugify }}/" class="tag-link">
                    #{{ tag }}
                </a>
                {%- endfor %}
            </div>
        </footer>
        {%- endif %}
    </article>
    
    <nav class="post-navigation">
        {%- if page.later %}
        <div class="post-nav-item post-nav-prev">
            <span class="post-nav-label">Previous post</span>
            <a href="{{ page.later.permalink }}" class="post-nav-link">
                {{ page.later.title }}
            </a>
        </div>
        {%- endif %}
        
        {%- if page.earlier %}
        <div class="post-nav-item post-nav-next">
            <span class="post-nav-label">Next post</span>
            <a href="{{ page.earlier.permalink }}" class="post-nav-link">
                {{ page.earlier.title }}
            </a>
        </div>
        {%- endif %}
    </nav>
</div>
{% endblock content %}